(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();async function p(a){try{let t={}.VITE_KEY_WEATHERAPP;const o=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${a}&lang=fr&appid=${t}&units=metric`)).json();return console.log({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}),console.log(o),o}catch{console.log("Erreur : impossible de récupérer les données")}}class u{constructor(t,s){let o=new Date((t.dt+s)*1e3);this.day=o.toUTCString().split(",")[0],this.date=o.getUTCDate(),this.hour=o.getUTCHours(),this.humidity=t.main.humidity,this.icon=t.weather[0].icon,this.temp=Math.round(t.main.temp)}display(){return`<div class="wrapForecast__day__wrapHour">
                    <p class="wrapForecast__day__wrapHour__hour">${this.hour}h</p>
                    <p class="wrapForecast__day__wrapHour__humidity">${this.humidity}%</p>
                    <img class="wrapForecast__day__wrapHour__icon" src=" http://openweathermap.org/img/wn/${this.icon}@2x.png" alt="icon of the forecast for the hour">
                    <p class="wrapForecast__day__wrapHour__temp">${this.temp}°</p>
                </div>`}}let h=document.querySelector(".header__input");h.addEventListener("keyup",a=>{if(a.key=="Enter"){document.querySelector(".header__place").textContent=`Meteo in ${a.target.value}`;let t=document.querySelector(".wrapForecast"),s=t.children;for(;s.length>0;)t.removeChild(s[0]);p(a.target.value).then(o=>{a.target.value="";let e=0,r=3;for(let i=1;i<6;i++){let n=document.createElement("div");n.classList.add("wrapForecast__day"),t.appendChild(n);let l=document.createElement("h2");l.classList.add("wrapForecast__day__title"),n.appendChild(l);for(let d=1;d<9;d++){let c=new u(o.list[e++],o.city.timezone);for(l.textContent=`${c.day} ${c.date}`,console.log(c.day);c.hour>=r;)n.innerHTML+='<div class="wrapForecast__day__wrapHour void"></div>',r+=3,d++;n.innerHTML+=c.display(),r+=3}}})}});
